---
import PictureCard from "../../components/general/picture-card.astro";
import { getCodingDesign } from "../../helpers/get-coding-design";
import BaseLayout from "../../layouts/base-layout.astro";

const data = await getCodingDesign();
---

<BaseLayout title="Viraj's Website">
	<div class='content'>
		<h1>Coding & Design</h1>
		<div class='cards-container'>
			{
				data.map((d) => (
					<PictureCard
						imageUrl={d.img.url}
						imageAlt={d.title}
						link={d.project_link}
						height={500}
						newTab
						aspectRatio={d.img.aspectRatio}>
						<div class='card-content'>
							<div>
								<h3 class='film-name'>{d.title}</h3>
								<p class='film-desc'>{d.very_short_desc}</p>
							</div>
							<div class='tags'>
								{d.tools_used.map((x) => (
									<div class='tag'>{x}</div>
								))}
							</div>
						</div>
					</PictureCard>
				))
			}
		</div>
	</div>
</BaseLayout>

<style lang='scss'>
	.content {
		padding-top: 100px;
		max-width: 1200px;
		margin: 0 auto;

		> h1 {
			padding-inline: 2rem;

			@media screen and (min-width: 960px) {
				padding-inline: 0;
			}
		}
	}

	.tags {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5em;

		.tag {
			background-color: rgb(255 255 255 / 0.2);
			border: 1px solid rgb(255 255 255 / 0.2);
			font-size: 0.87rem;
			border-radius: 0.25em;
			padding: 0.4em 1em;
		}
	}

	.card-content {
		display: flex;
		flex-direction: column;
		height: 100%;
		justify-content: space-between;
	}

	.cards-container {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
		gap: 2em;
		width: 100%;
		padding-inline: 2rem;
		margin-block-end: 130px;

		@media screen and (min-width: 1200px) {
			padding-inline: 0;
		}
	}
</style>
